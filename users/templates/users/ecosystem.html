{% extends 'blog/base/base.html' %}
{% load static %}

{% block content %}

<style>
    a {
        text-decoration: none !important;
    }
    
    .min-h-screen {
        background: linear-gradient(to bottom, #f8f9ff 0%, #f0f2ff 100%);
        position: relative;
        overflow: hidden;
    }
    
    .min-h-screen::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 10% 20%, rgba(255, 213, 2, 0.03) 0%, transparent 20%),
                  radial-gradient(circle at 90% 80%, rgba(255, 213, 2, 0.03) 0%, transparent 20%);
        pointer-events: none;
    }
    
   .announce-hero {
    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
    border-radius: 1rem;
    padding: 3rem 2rem;
    margin:  auto;
    max-width: 100%;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
    animation: fadeIn 0.8s ease-out;
    margin-bottom: 2rem;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .announce-hero::before {
    content: '';
    position: absolute;
    top: -50px;
    right: -50px;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background-color: rgba(255, 213, 2, 0.1);
    z-index: 0;
  }
  
    
    .announce-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
    position: relative;
    z-index: 1;
  }
  
  .announce-icon {
    background-color: #ffd502;
    color: #1a202c;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1.5rem;
    font-size: 1.5rem;
    box-shadow: 0 10px 15px -3px rgba(255, 213, 2, 0.3);
    animation: pulse 2s infinite;
  }
  
    
    .announce-header .title {
        font-size: 2.5rem;
    }

    .title {
    font-size: 2.25rem;
    font-weight: 700;
    color: #1a202c;
    position: relative;
  }
  
  .title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 0;
    width: 60px;
    height: 4px;
    background-color: #ffd502;
    border-radius: 2px;
  }

    
    .announce-description {
        color: #4a5568;
        line-height: 1.7;
        font-size: 1.125rem;
    }
    
    .profile-card {
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
        position: relative;
    }
    
    .profile-card::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 16px;
        padding: 2px;
        background: linear-gradient(45deg, transparent 50%, rgba(255, 213, 2, 0.3) 100%);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        transition: opacity 0.4s ease;
    }
    
    .profile-card:hover::after {
        opacity: 1;
    }
    
    .profile-card:hover {
        transform: translateY(-10px) !important;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1) !important;
    }
    
    .profile-card img.rounded-full {
        transition: all 0.4s ease;
    }
    
    .profile-card:hover img.rounded-full {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(255, 213, 2, 0.4);
    }
    
    .profile-card .bg-\[\#ffd502\] {
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .profile-card:hover .bg-\[\#ffd502\] {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .profile-card .bg-\[\#ffd502\]::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            rgba(255, 255, 255, 0),
            rgba(255, 255, 255, 0),
            rgba(255, 255, 255, 0.3),
            rgba(255, 255, 255, 0)
        );
        transform: rotate(30deg);
        transition: all 1.5s ease;
        opacity: 0;
    }
    
    .profile-card:hover .bg-\[\#ffd502\]::after {
        left: 100%;
        opacity: 1;
    }
    
    .profile-card a.text-gray-600 {
        transition: all 0.3s ease;
    }
    
    .profile-card:hover a.text-gray-600 {
        transform: translateY(-3px);
    }
    
    .profile-card a.w-full {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        z-index: 1;
    }
    
    .profile-card a.w-full::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: 0.5s;
        z-index: -1;
    }
    
    .profile-card:hover a.w-full::before {
        left: 100%;
    }
    
    /* Staggered animation for cards */
    .grid > div {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease forwards;
    }
    
    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
</style>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<div class="min-h-screen bg-gray-50 ">
  <div class=" mx-auto">
    <section class="announce-hero">
        <div class="announce-header">
          <div class="announce-icon">
            <i class="fa-regular fa-user"></i>
          </div>
          <div class="title">Ecosystem Section</div>
        </div>
        <p class="announce-description">
            A dynamic hub showcasing diverse innovators—startups, freelancers, investors, and project holders—within your network. This visually engaging directory highlights key profiles with role-specific details (skills, projects, investment focus) in clean, modern cards. Designed to foster collaboration and discovery, it features social links, portfolio access, and vibrant yellow-themed interactions (#ffd502) for quick navigation. Users can effortlessly connect, explore expertise, and dive into detailed profiles, creating a unified space for networking and opportunity-building in the innovation community.
        </p>
    </section>

    <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 py-12 px-4 sm:px-6 lg:px-8">
      {% for profile in profiles %}
      {% if profile.role %}
      <div class="relative group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out transform hover:-translate-y-2">
        <div class="flex flex-col items-center pt-8 pb-6 px-6">
          <!-- Profile Image with Glow Effect -->
          <div class="relative mb-6">
            <div class="absolute inset-0 rounded-full bg-gradient-to-r from-yellow-300 to-yellow-500 opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-500"></div>
            <img class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg" 
                 src="{{ profile.image.url }}" 
                 alt="{{ profile.user.username }}">
            <div class="absolute inset-0 rounded-full border-2 border-transparent group-hover:border-[#ffd502] transition-all duration-300"></div>
          </div>

          <!-- Name and Role -->
          <h2 class="text-2xl font-bold text-gray-900 mb-1 text-center group-hover:text-[#ffd502] transition-colors duration-300 pb-2">
            {{ profile.user.get_full_name|default:profile.user.username }}
          </h2>
          <span class="inline-block px-4 py-1 mb-4 text-sm font-semibold text-gray-900 bg-[#ffd502] rounded-full transform transition-all duration-300 group-hover:scale-105">
            {{ profile.role }}
          </span>

          <!-- Role-specific Info -->
          <div class="w-full space-y-2 mb-6">
            {% if profile.role == 'Startup' %}
              <div class="flex items-center justify-center text-md text-gray-600">
                <i class="fas fa-building mr-2 text-[#ffd502]"></i>
                <span class="font-bold">{{ profile.company_name }}</span>
              </div>
              

            {% elif profile.role == 'Freelancer' %}
              <div class="flex items-center justify-center text-sm text-gray-600">
                <i class="fas fa-tools mr-2 text-[#ffd502]"></i>
                <span>{{ profile.skills }}</span>
              </div>
              {% if profile.portfolio_link %}
              <a href="{{ profile.portfolio_link }}" target="_blank" class="inline-flex items-center text-[#ffd502] hover:text-[#d4b000] text-sm font-medium group">
                Portfolio 
                <i class="fas fa-external-link-alt ml-2 text-xs transform transition-transform duration-300 group-hover:translate-x-1"></i>
              </a>
              {% endif %}

            {% elif profile.role == 'Investor' %}
              <div class="space-y-1">
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-bullseye mr-2 text-[#ffd502]"></i>
                  {{ profile.investment_focus }}
                </div>
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-chart-line mr-2 text-[#ffd502]"></i>
                  {{ profile.investment_stage }}
                </div>
              </div>

            {% elif profile.role == 'Project_holder' %}
              <div class="space-y-1">
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-lightbulb mr-2 text-[#ffd502]"></i>
                  {{ profile.project_name }}
                </div>
                <p class="text-sm text-gray-500 text-center">
                  {{ profile.project_description|truncatechars:100 }}
                </p>
              </div>
            {% endif %}
          </div>

          <!-- Social Links with Hover Effects -->
          <div class="flex space-x-4 mb-6">
            {% if profile.linkedin_link %}
            <a href="{{ profile.linkedin_link }}" target="_blank" class="text-gray-600 hover:text-[#ffd502] transition-colors transform hover:scale-125 transition-transform duration-300">
              <i class="fab fa-linkedin text-3xl"></i>
            </a>
            {% endif %}
            {% if profile.website %}
            <a href="{{ profile.website }}" target="_blank" class="text-gray-600 hover:text-[#ffd502] transition-colors transform hover:scale-125 transition-transform duration-300">
              <i class="fas fa-globe text-3xl"></i>
            </a>
            {% endif %}
          </div>

          <!-- View Profile Button with Animation -->
          <a href="{% url 'public-profile' profile.user.username %}" class="w-2xl inline-flex items-center justify-center px-4 py-2 border border-transparent text-xl font-medium rounded-2xl text-gray-900 bg-[#ffd502] hover:bg-[#fff] hover:text-[#ffd502] hover:border-[#ffd502] transition-all duration-300 decoration-none group">
            View Profile
            <i class="fas fa-arrow-right ml-2 text-sm transform transition-transform duration-300 group-hover:translate-x-1"></i>
          </a>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<script>
  // Add intersection observer for smoother animations when scrolling
  document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.grid > div');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });
    
    cards.forEach(card => {
      observer.observe(card);
    });
  });
</script>
{% endblock %}