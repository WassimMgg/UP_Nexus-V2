{% extends 'blog/base/base.html' %}
{% load static %}

{% block content %}

<style>
    a{
        text-decoration: none !important;
    }
</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">
    <section class="announce-hero">
        <div class="announce-header">
          <div class="announce-icon">
            <i class="fa-regular fa-user"></i>
          </div>
          <div class="title">Ecosystem Section</div>
        </div>
        <p class="announce-description">
            A dynamic hub showcasing diverse innovators—startups, freelancers, investors, and project holders—within your network. This visually engaging directory highlights key profiles with role-specific details (skills, projects, investment focus) in clean, modern cards. Designed to foster collaboration and discovery, it features social links, portfolio access, and vibrant yellow-themed interactions (#ffd502) for quick navigation. Users can effortlessly connect, explore expertise, and dive into detailed profiles, creating a unified space for networking and opportunity-building in the innovation community.
        </p>
        
      </section>

    <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      {% for profile in profiles %}
      {% if profile.role %}
      <div class="relative group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out transform hover:-translate-y-2">
        <div class="flex flex-col items-center pt-8 pb-6 px-6">
          <!-- Profile Image -->
          <div class="relative mb-6">
            <img class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg" 
                 src="{{ profile.image.url }}" 
                 alt="{{ profile.user.username }}">
            <div class="absolute inset-0 rounded-full border-2 border-transparent group-hover:border-[#ffd502] transition-all duration-300"></div>
          </div>

          <!-- Name and Role -->
          <h2 class="text-xl font-bold text-gray-900 mb-1 text-center">
            {{ profile.user.get_full_name|default:profile.user.username }}
          </h2>
          <span class="inline-block px-4 py-1 mb-4 text-sm font-semibold text-gray-900 bg-[#ffd502] rounded-full">
            {{ profile.role }}
          </span>

          <!-- Role-specific Info -->
          <div class="w-full space-y-2 mb-6">
            {% if profile.role == 'Startup' %}
              <div class="flex items-center justify-center text-sm text-gray-600">
                <i class="fas fa-building mr-2 text-[#ffd502]"></i>
                <span class="font-bold">{{ profile.company_name }}</span>
              </div>
              

            {% elif profile.role == 'Freelancer' %}
              <div class="flex items-center justify-center text-sm text-gray-600">
                <i class="fas fa-tools mr-2 text-[#ffd502]"></i>
                <span>{{ profile.skills }}</span>
              </div>
              {% if profile.portfolio_link %}
              <a href="{{ profile.portfolio_link }}" target="_blank" class="inline-flex items-center text-[#ffd502] hover:text-[#d4b000] text-sm font-medium">
                Portfolio <i class="fas fa-external-link-alt ml-2 text-xs"></i>
              </a>
              {% endif %}

            {% elif profile.role == 'Investor' %}
              <div class="space-y-1">
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-bullseye mr-2 text-[#ffd502]"></i>
                  {{ profile.investment_focus }}
                </div>
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-chart-line mr-2 text-[#ffd502]"></i>
                  {{ profile.investment_stage }}
                </div>
              </div>

            {% elif profile.role == 'Project_holder' %}
              <div class="space-y-1">
                <div class="flex items-center justify-center text-sm text-gray-600">
                  <i class="fas fa-lightbulb mr-2 text-[#ffd502]"></i>
                  {{ profile.project_name }}
                </div>
                <p class="text-sm text-gray-500 text-center">
                  {{ profile.project_description|truncatechars:100 }}
                </p>
              </div>
            {% endif %}
          </div>

          <!-- Social Links -->
          <div class="flex space-x-4 mb-6">
            {% if profile.linkedin_link %}
            <a href="{{ profile.linkedin_link }}" target="_blank" class="text-gray-600 hover:text-[#ffd502] transition-colors">
              <i class="fab fa-linkedin text-lg"></i>
            </a>
            {% endif %}
            {% if profile.website %}
            <a href="{{ profile.website }}" target="_blank" class="text-gray-600 hover:text-[#ffd502] transition-colors">
              <i class="fas fa-globe text-lg"></i>
            </a>
            {% endif %}
          </div>

          <!-- View Profile Button -->
          <a href="{% url 'public-profile' profile.user.username %}" class="w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-2xl text-gray-900 bg-[#ffd502] hover:bg-[#fff] hover:text-[#ffd502] transition-colors duration-300 decoration-none">
            View Profile
            <i class="fas fa-arrow-right ml-2 text-sm"></i>
          </a>
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}